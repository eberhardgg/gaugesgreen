---
import LayoutMinimal from "../layouts/LayoutMinimal.astro";
import { getCollection } from "astro:content";

const caseStudies = (await getCollection("portfolio"))
  .sort((a, b) => a.data.order - b.data.order);
---

<LayoutMinimal title="Experience | Ryan Eberhard" description="Case studies from ZipRecruiter, JobGet, Swing, and more">
  <header class="header">
    <div class="header__inner">
      <a href="/" class="header__logo">Ryan Eberhard</a>
      <button class="dark-toggle" id="theme-toggle">
        [<span id="theme-label">dark</span>]
      </button>
    </div>
    <nav class="header__nav">
      <a href="/">home</a>
      <span class="header__nav-sep">·</span>
      <a href="/experience" class="active">experience</a>
      <span class="header__nav-sep">·</span>
      <a href="/advisory">services</a>
      <span class="header__nav-sep">·</span>
      <a href="/log">writing</a>
      <span class="header__nav-sep">·</span>
      <a href="mailto:eberhard@gaugesgreen.com">contact</a>
    </nav>
  </header>

  <h1>Experience</h1>
  <p class="intro">
    A track record of building products that scale and fixing ones that stalled.
  </p>

  <hr />

  {caseStudies.map((study) => (
    <div class="entry">
      <p>
        <strong>{study.data.company}</strong><br />
        {study.data.role}, {study.data.period}
      </p>
      <p class="intro">
        {study.data.challenge}
      </p>
      <p>
        <strong>{study.data.heroMetric}</strong> {study.data.heroMetricLabel.toLowerCase()}
      </p>
    </div>
  ))}

  <footer class="footer">
    <a href="mailto:eberhard@gaugesgreen.com">email</a>
    <span class="header__nav-sep">·</span>
    <a href="https://linkedin.com/in/eberhard" target="_blank" rel="noopener noreferrer">linkedin</a>
    <span class="header__nav-sep">·</span>
    <a href="https://cal.com/ryan-eberhard-6jsjkn/30min" target="_blank" rel="noopener noreferrer">book a call</a>
  </footer>
</LayoutMinimal>
